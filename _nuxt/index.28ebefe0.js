import h from"./Icon.413fe668.js";import{u as v,a as y}from"./url.6ee5792c.js";import{i as E,r as a,A as M,o as d,c as u,u as n,a as e,d as p,t as m,b as _,l as L,h as R,C as k,E as g}from"./entry.6814fbae.js";import"./state.03e20622.js";import"./index.df58e121.js";import"./vue.f36acd1f.17568039.js";const I={class:"background h-full w-full"},C={key:0,class:"buttons h-full flex flex-col gap-8 items-center justify-center font-semibold text-white"},V={class:"flex flex-col lg:flex-row justify-center items-center gap-4"},q={class:"bg-gray-800 p-2 rounded shadow-md"},N={class:"text-white font-semibold select-none"},H=E({__name:"index",setup(T){const f=v(),w=R(),{$octokit:r}=k();y({ogSiteName:"MISS-ELS",title:"MISS-ELS - server sided sirens for FiveM",ogTitle:"MISS-ELS - server sided sirens for FiveM",ogDescription:"Server-sided ELS for FiveM with custom patterns per vehicle, custom sirens, indicator control and more!",ogImage:`${f.origin+w.app.baseURL}images/MISS-ELS.png`});const S=async()=>{var t;await g((t=o.value.assets[0])==null?void 0:t.browser_download_url,{external:!0})},x=async()=>{await g("https://github.com/matsn0w/MISS-ELS/releases/latest",{external:!0,open:{target:"_blank"}})},l=a(!0),i=a(0),o=a();return M(async()=>{(await r.request("GET /repos/{owner}/{repo}/releases",{owner:"matsn0w",repo:"MISS-ELS",headers:{"X-GitHub-Api-Version":"2022-11-28"}})).data.forEach(s=>s.assets.forEach(b=>i.value+=b.download_count));const c=await r.request("GET /repos/{owner}/{repo}/releases/latest",{owner:"matsn0w",repo:"MISS-ELS",headers:{"X-GitHub-Api-Version":"2022-11-28"}});o.value=c.data,l.value=!1}),(t,c)=>{const s=h;return d(),u("div",I,[n(l)?L("",!0):(d(),u("div",C,[e("div",V,[e("button",{class:"bg-blue-900 border border-gray-100 text-3xl rounded-lg shadow-lg flex items-center gap-3 p-4",type:"button",onClick:S},[p(" Download v"+m(n(o).tag_name)+" ",1),_(s,{name:"uil:download-alt"})]),e("button",{class:"bg-gray-800 border border-gray-100 text-3xl rounded-lg shadow-lg flex items-center gap-3 p-4",type:"button",onClick:x},[p(" View latest release "),_(s,{name:"uil:external-link-alt"})])]),e("div",q,[e("p",N," Total downloads: "+m(n(i)),1)])]))])}}});export{H as default};
